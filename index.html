<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pragati Tracker - Bus Management Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD735BzVTgQt6ois82KJbv0ZyJvWE_jykg&callback=initMap&libraries=geometry,places,marker"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="assets/images/pragati-logo.png" alt="Pragati Engineering College Logo" class="logo-image">
                    <span>Pragati Tracker</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active">
                        <a href="#" class="nav-link">
                            <i class="fas fa-chart-pie"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-route"></i>
                            <span>Routes</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-id-card"></i>
                            <span>Bus Pass</span>
                        </a>
                    </li>

                </ul>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <div class="user-name">poojitha</div>
                        <div class="user-role">Student</div>
                    </div>
                    <button class="logout-btn" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <div class="header-top">
                    <h1>Live Tracking</h1>
                    <div class="header-actions">
                        <div class="notification-container">
                            <button class="notification-btn" id="notification-btn">
                                <i class="fas fa-bell"></i>
                                <span class="notification-badge" id="notification-badge">3</span>
                            </button>
                            <div class="notification-dropdown" id="notification-dropdown">
                                <div class="notification-dropdown-header">
                                    <h3>Notifications</h3>
                                    <button class="mark-all-read" id="mark-all-read">Mark all as read</button>
                                </div>
                                <div class="notification-list" id="notification-list">
                                    <div class="notification-item unread" data-id="1">
                                        <div class="notification-icon delayed">
                                            <i class="fas fa-exclamation-circle"></i>
                                        </div>
                                        <div class="notification-content">
                                            <div class="notification-title">Bus 3 Delayed</div>
                                            <div class="notification-text">Bus 3 is running 15 minutes late</div>
                                            <div class="notification-time">5 minutes ago</div>
                                        </div>
                                    </div>
                                    <div class="notification-item unread" data-id="2">
                                        <div class="notification-icon early">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="notification-content">
                                            <div class="notification-title">Bus 8 Arriving Early</div>
                                            <div class="notification-text">Bus 8 will arrive 5 minutes early</div>
                                            <div class="notification-time">10 minutes ago</div>
                                        </div>
                                    </div>
                                    <div class="notification-item unread" data-id="3">
                                        <div class="notification-icon on-time">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                        <div class="notification-content">
                                            <div class="notification-title">Bus 1 On Time</div>
                                            <div class="notification-text">Your bus is on schedule</div>
                                            <div class="notification-time">15 minutes ago</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="notification-dropdown-footer">
                                    <a href="#" class="view-all-notifications">View all notifications</a>
                                </div>
                            </div>
                        </div>
                        <div class="user-menu-container">
                            <div class="user-avatar-small" id="user-avatar-btn">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-dropdown" id="user-dropdown">
                                <div class="user-dropdown-header">
                                    <div class="user-dropdown-avatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="user-dropdown-info">
                                        <div class="user-dropdown-name">9014251662</div>
                                        <div class="user-dropdown-role">Student</div>
                                    </div>
                                </div>
                                <div class="user-dropdown-divider"></div>
                                <a href="#" class="user-dropdown-item" id="live-location-btn">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Live Location</span>
                                </a>
                                <a href="#" class="user-dropdown-item" id="edit-profile-btn">
                                    <i class="fas fa-user-edit"></i>
                                    <span>Edit Profile</span>
                                </a>
                                <a href="#" class="user-dropdown-item" id="bus-selection-btn">
                                    <i class="fas fa-bus"></i>
                                    <span>Bus Selection</span>
                                </a>
                                <div class="user-dropdown-divider"></div>
                                <a href="#" class="user-dropdown-item logout-item" id="logout-btn-dropdown">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>Logout</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dashboard-search-container">
                    <i class="fas fa-search dashboard-search-icon"></i>
                    <input type="text" id="dashboard-search" class="dashboard-search-input" placeholder="Search Buses, Routes, Locations...">
                    <button class="dashboard-search-clear" id="dashboard-search-clear" style="display: none;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </header>

            <!-- Filter Pills -->
            <div class="filter-pills" id="filter-pills">
                <button class="filter-pill active" data-filter="all">
                    <i class="fas fa-bus"></i> All
                </button>
                <button class="filter-pill" data-filter="on-time">
                    <i class="fas fa-check-circle"></i> On-Time
                </button>
                <button class="filter-pill" data-filter="delayed">
                    <i class="fas fa-exclamation-circle"></i> Delayed
                </button>
                <button class="filter-pill" data-filter="early">
                    <i class="fas fa-clock"></i> Early
                </button>
                <button class="filter-pill" data-filter="favorites">
                    <i class="fas fa-star"></i> Favourites
                </button>
            </div>

            <!-- Dashboard Content -->
            <div class="dashboard-grid" id="dashboard-content">
                <!-- Bus Card 1 -->
                <div class="bus-card" data-status="on-time" data-favorite="true" data-bus-number="1" data-route="rajahmundry surampalem" data-driver="ramesh babu">
                    <div class="card-header">
                        <div class="bus-icon on-time">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 1</h3>
                        </div>
                        <button class="favorite-btn active">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Rajahmundry → Surampalem
                        </p>
                    </div>
                    <div class="status-badge on-time">
                        <i class="fas fa-check-circle"></i>
                        Status: On-time
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Ramesh Babu</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 5 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 55/60</span>
                    </div>
                </div>

                <!-- Bus Card 2 -->
                <div class="bus-card" data-status="delayed" data-favorite="false" data-bus-number="3" data-route="kakinada surampalem" data-driver="srinivas reddy">
                    <div class="card-header">
                        <div class="bus-icon delayed">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 3</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Kakinada → Surampalem
                        </p>
                    </div>
                    <div class="status-badge delayed">
                        <i class="fas fa-exclamation-circle"></i>
                        Status: Delayed
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Srinivas Reddy</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 12 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 68%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 42/60</span>
                    </div>
                </div>

                <!-- Bus Card 3 -->
                <div class="bus-card" data-status="on-time" data-favorite="false" data-bus-number="4" data-route="pithapuram surampalem" data-driver="venkata rao">
                    <div class="card-header">
                        <div class="bus-icon on-time">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 4</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Pithapuram → Surampalem
                        </p>
                    </div>
                    <div class="status-badge on-time">
                        <i class="fas fa-check-circle"></i>
                        Status: On-time
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Venkata Rao</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 8 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 48/55</span>
                    </div>
                </div>

                <!-- Bus Card 4 -->
                <div class="bus-card" data-status="early" data-favorite="true" data-bus-number="8" data-route="peddapuram surampalem" data-driver="prasad raju">
                    <div class="card-header">
                        <div class="bus-icon early">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 8</h3>
                        </div>
                        <button class="favorite-btn active">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Peddapuram → Surampalem
                        </p>
                    </div>
                    <div class="status-badge early">
                        <i class="fas fa-clock"></i>
                        Status: Early
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Prasad Raju</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 3 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 95%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 52/58</span>
                    </div>
                </div>

                <!-- Bus Card 5 -->
                <div class="bus-card" data-status="on-time" data-favorite="false" data-bus-number="90" data-route="samalkot surampalem" data-driver="kiran kumar">
                    <div class="card-header">
                        <div class="bus-icon on-time">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 90</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Samalkot → Surampalem
                        </p>
                    </div>
                    <div class="status-badge on-time">
                        <i class="fas fa-check-circle"></i>
                        Status: On-time
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Kiran Kumar</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 7 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 88%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 50/58</span>
                    </div>
                </div>

                <!-- Bus Card 6 -->
                <div class="bus-card" data-status="early" data-favorite="true" data-bus-number="12" data-route="amalapuram surampalem" data-driver="suresh babu">
                    <div class="card-header">
                        <div class="bus-icon early">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 12</h3>
                        </div>
                        <button class="favorite-btn active">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Amalapuram → Surampalem
                        </p>
                    </div>
                    <div class="status-badge early">
                        <i class="fas fa-clock"></i>
                        Status: Early
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Suresh Babu</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 4 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 93%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 45/50</span>
                    </div>
                </div>

                <!-- Bus Card 7 -->
                <div class="bus-card" data-status="on-time" data-favorite="false" data-bus-number="15" data-route="mandapeta surampalem" data-driver="ravi teja">
                    <div class="card-header">
                        <div class="bus-icon on-time">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 15</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Mandapeta → Surampalem
                        </p>
                    </div>
                    <div class="status-badge on-time">
                        <i class="fas fa-check-circle"></i>
                        Status: On-time
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Ravi Teja</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 10 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 38/48</span>
                    </div>
                </div>

                <!-- Bus Card 8 -->
                <div class="bus-card" data-status="delayed" data-favorite="false" data-bus-number="22" data-route="tuni surampalem" data-driver="mahesh kumar">
                    <div class="card-header">
                        <div class="bus-icon delayed">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 22</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Tuni → Surampalem
                        </p>
                    </div>
                    <div class="status-badge delayed">
                        <i class="fas fa-exclamation-circle"></i>
                        Status: Delayed
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Mahesh Kumar</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 18 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 55%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 35/52</span>
                    </div>
                </div>

                <!-- Bus Card 9 -->
                <div class="bus-card" data-status="on-time" data-favorite="true" data-bus-number="25" data-route="yanam surampalem" data-driver="naresh reddy">
                    <div class="card-header">
                        <div class="bus-icon on-time">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 25</h3>
                        </div>
                        <button class="favorite-btn active">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Yanam → Surampalem
                        </p>
                    </div>
                    <div class="status-badge on-time">
                        <i class="fas fa-check-circle"></i>
                        Status: On-time
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Naresh Reddy</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 6 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 47/55</span>
                    </div>
                </div>

                <!-- Bus Card 10 -->
                <div class="bus-card" data-status="early" data-favorite="false" data-bus-number="30" data-route="ramachandrapuram surampalem" data-driver="vijay krishna">
                    <div class="card-header">
                        <div class="bus-icon early">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 30</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Ramachandrapuram → Surampalem
                        </p>
                    </div>
                    <div class="status-badge early">
                        <i class="fas fa-clock"></i>
                        Status: Early
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Vijay Krishna</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 2 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 97%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 43/46</span>
                    </div>
                </div>

                <!-- Bus Card 11 -->
                <div class="bus-card" data-status="delayed" data-favorite="true" data-bus-number="35" data-route="kotananduru surampalem" data-driver="srinivas rao">
                    <div class="card-header">
                        <div class="bus-icon delayed">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 35</h3>
                        </div>
                        <button class="favorite-btn active">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Kotananduru → Surampalem
                        </p>
                    </div>
                    <div class="status-badge delayed">
                        <i class="fas fa-exclamation-circle"></i>
                        Status: Delayed
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Srinivas Rao</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 15 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 62%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 40/54</span>
                    </div>
                </div>

                <!-- Bus Card 12 -->
                <div class="bus-card" data-status="on-time" data-favorite="false" data-bus-number="40" data-route="uppada surampalem" data-driver="rajesh kumar">
                    <div class="card-header">
                        <div class="bus-icon on-time">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="bus-title">
                            <h3>Bus 40</h3>
                        </div>
                        <button class="favorite-btn">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <div class="route-info">
                        <p class="route-text">
                            <i class="fas fa-map-marker-alt"></i>
                            Route: Uppada → Surampalem
                        </p>
                    </div>
                    <div class="status-badge on-time">
                        <i class="fas fa-check-circle"></i>
                        Status: On-time
                    </div>
                    <div class="card-actions">
                        <button class="location-btn">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button class="track-btn">
                            <i class="fas fa-map-marker-alt"></i>
                            Track
                        </button>
                    </div>
                    <div class="driver-info">
                        <span class="driver-label">Driver: Rajesh Kumar</span>
                    </div>
                    <div class="eta-info">
                        <span class="eta-label">ETA: 9 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 82%;"></div>
                    </div>
                    <div class="students-info">
                        <span>Students: 44/52</span>
                    </div>
                </div>

                <!-- Add Bus Card -->
                <div class="bus-card add-bus-card" id="add-bus-card">
                    <div class="add-bus-icon">
                        <i class="fas fa-plus"></i>
                    </div>
                    <div class="add-bus-text">Add New Bus</div>
                </div>
            </div>

            <!-- Routes Content -->
            <div class="routes-content" id="routes-content" style="display: none;">
                <div class="routes-layout">
                    <!-- Map Container -->
                    <div class="map-container">
                        <div class="map-header">
                            <h3><i class="fas fa-map"></i> Live Fleet Tracking</h3>
                            <div class="map-controls">
                                <button class="control-btn" id="refresh-map">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                                <button class="control-btn" id="fullscreen-map">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Map Search Bar -->
                        <div class="map-search-container">
                            <div class="search-input-wrapper">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" id="map-search" class="map-search-input"
                                    placeholder="Search locations, bus routes, or destinations...">
                                <button class="search-clear-btn" id="clear-search" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="search-suggestions" id="search-suggestions" style="display: none;">
                                <div class="suggestion-item" data-location="rajahmundry">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Rajahmundry</span>
                                </div>
                                <div class="suggestion-item" data-location="kakinada">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Kakinada</span>
                                </div>
                                <div class="suggestion-item" data-location="pithapuram">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Pithapuram</span>
                                </div>
                                <div class="suggestion-item" data-location="peddapuram">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Peddapuram</span>
                                </div>
                                <div class="suggestion-item" data-location="samalkot">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Samalkot</span>
                                </div>
                                <div class="suggestion-item" data-location="college">
                                    <i class="fas fa-graduation-cap"></i>
                                    <span>Pragati Engineering College, Surampalem</span>
                                </div>
                                <div class="suggestion-item" data-location="surampalem">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Surampalem</span>
                                </div>
                            </div>
                        </div>

                        <!-- Dynamic Google Maps with Bus Markers -->
                        <div class="map-display-wrapper">
                            <iframe 
                                id="dynamic-map"
                                class="map-display-iframe"
                                src="dynamic-map.html"
                                width="100%" 
                                height="100%" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy"
                                title="Pragati Engineering College - Bus Routes">
                            </iframe>
                            <div class="map-overlay-info">
                                <div class="map-location-badge">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Pragati Engineering College, Surampalem</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Fallback: Original map div for JavaScript-based maps -->
                        <div id="map" class="map-display" style="display: none;"></div>
                    </div>

                    <!-- Bus Info Panel -->
                    <div class="bus-info-panel">
                        <div class="panel-header">
                            <h3><i class="fas fa-bus"></i> Active Buses</h3>
                            <span class="bus-count">12 buses online</span>
                        </div>
                        <div class="bus-list">
                            <div class="bus-item" data-bus="1">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">1</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Rajahmundry → Surampalem</div>
                                    <div class="bus-driver">Ramesh Babu</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 45 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 12.5 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-online">Online</div>
                            </div>

                            <div class="bus-item" data-bus="3">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">3</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Kakinada → Surampalem</div>
                                    <div class="bus-driver">Srinivas Reddy</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 38 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 8.2 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-delayed">Delayed</div>
                            </div>

                            <div class="bus-item" data-bus="4">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">4</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Pithapuram → Surampalem</div>
                                    <div class="bus-driver">Venkata Rao</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 52 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 15.8 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-online">Online</div>
                            </div>

                            <div class="bus-item" data-bus="8">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">8</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Peddapuram → Surampalem</div>
                                    <div class="bus-driver">Prasad Raju</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 41 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 6.3 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-early">Early</div>
                            </div>

                            <div class="bus-item" data-bus="90">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">90</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Samalkot → Surampalem</div>
                                    <div class="bus-driver">Kiran Kumar</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 47 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 9.7 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-online">Online</div>
                            </div>

                            <div class="bus-item" data-bus="12">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">12</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Amalapuram → Surampalem</div>
                                    <div class="bus-driver">Suresh Babu</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 43 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 18.3 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-early">Early</div>
                            </div>

                            <div class="bus-item" data-bus="15">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">15</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Mandapeta → Surampalem</div>
                                    <div class="bus-driver">Ravi Teja</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 39 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 14.2 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-online">Online</div>
                            </div>

                            <div class="bus-item" data-bus="22">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">22</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Tuni → Surampalem</div>
                                    <div class="bus-driver">Mahesh Kumar</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 35 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 22.1 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-delayed">Delayed</div>
                            </div>

                            <div class="bus-item" data-bus="25">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">25</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Yanam → Surampalem</div>
                                    <div class="bus-driver">Naresh Reddy</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 48 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 11.8 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-online">Online</div>
                            </div>

                            <div class="bus-item" data-bus="30">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">30</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Ramachandrapuram → Surampalem</div>
                                    <div class="bus-driver">Vijay Krishna</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 44 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 16.5 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-early">Early</div>
                            </div>

                            <div class="bus-item" data-bus="35">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">35</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Kotananduru → Surampalem</div>
                                    <div class="bus-driver">Srinivas Rao</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 32 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 19.7 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-delayed">Delayed</div>
                            </div>

                            <div class="bus-item" data-bus="40">
                                <div class="bus-icon">
                                    <i class="fas fa-bus"></i>
                                    <span class="bus-num">40</span>
                                </div>
                                <div class="bus-details">
                                    <div class="bus-route">Uppada → Surampalem</div>
                                    <div class="bus-driver">Rajesh Kumar</div>
                                    <div class="bus-stats">
                                        <span class="speed"><i class="fas fa-tachometer-alt"></i> 41 km/h</span>
                                        <span class="distance"><i class="fas fa-road"></i> 13.4 km</span>
                                    </div>
                                </div>
                                <div class="bus-status status-online">Online</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Status Buses -->
                <div class="trip-logs">
                    <div class="logs-header">
                        <h3><i class="fas fa-bus-alt"></i> Status Buses</h3>
                        <button class="export-btn">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                    <div class="logs-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Bus</th>
                                    <th>Route</th>
                                    <th>Distance</th>
                                    <th>Duration</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>9:15 AM</td>
                                    <td>Bus 1</td>
                                    <td>Rajahmundry → Surampalem</td>
                                    <td>25.4 km</td>
                                    <td>45 min</td>
                                    <td><span class="status arrived">Arrived</span></td>
                                </tr>
                                <tr>
                                    <td>9:05 AM</td>
                                    <td>Bus 3</td>
                                    <td>Kakinada → Surampalem</td>
                                    <td>18.2 km</td>
                                    <td>38 min</td>
                                    <td><span class="status arrived">Arrived</span></td>
                                </tr>
                                <tr>
                                    <td>8:50 AM</td>
                                    <td>Bus 4</td>
                                    <td>Pithapuram → Surampalem</td>
                                    <td>22.8 km</td>
                                    <td>42 min</td>
                                    <td><span class="status arrived">Arrived</span></td>
                                </tr>
                                <tr>
                                    <td>8:45 AM</td>
                                    <td>Bus 8</td>
                                    <td>Peddapuram → Surampalem</td>
                                    <td>16.5 km</td>
                                    <td>35 min</td>
                                    <td><span class="status arrived">Arrived</span></td>
                                </tr>
                                <tr>
                                    <td>8:30 AM</td>
                                    <td>Bus 90</td>
                                    <td>Samalkot → Surampalem</td>
                                    <td>20.1 km</td>
                                    <td>40 min</td>
                                    <td><span class="status arrived">Arrived</span></td>
                                </tr>
                                <tr class="evening-schedule">
                                    <td>4:45 PM</td>
                                    <td>Bus 1</td>
                                    <td>Surampalem → Rajahmundry</td>
                                    <td>25.4 km</td>
                                    <td>45 min</td>
                                    <td><span class="status departed">Departed</span></td>
                                </tr>
                                <tr class="evening-schedule">
                                    <td>4:30 PM</td>
                                    <td>Bus 3</td>
                                    <td>Surampalem → Kakinada</td>
                                    <td>18.2 km</td>
                                    <td>38 min</td>
                                    <td><span class="status departed">Departed</span></td>
                                </tr>
                                <tr class="evening-schedule">
                                    <td>4:15 PM</td>
                                    <td>Bus 4</td>
                                    <td>Surampalem → Pithapuram</td>
                                    <td>22.8 km</td>
                                    <td>42 min</td>
                                    <td><span class="status departed">Departed</span></td>
                                </tr>
                                <tr class="evening-schedule">
                                    <td>4:10 PM</td>
                                    <td>Bus 8</td>
                                    <td>Surampalem → Peddapuram</td>
                                    <td>16.5 km</td>
                                    <td>35 min</td>
                                    <td><span class="status departed">Departed</span></td>
                                </tr>
                                <tr class="evening-schedule">
                                    <td>4:00 PM</td>
                                    <td>Bus 90</td>
                                    <td>Surampalem → Samalkot</td>
                                    <td>20.1 km</td>
                                    <td>40 min</td>
                                    <td><span class="status departed">Departed</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Bus Pass Content -->
            <div class="bus-pass-content" id="bus-pass-content" style="display: none;">
                <div class="card-container">
                    <div class="card-header-section">
                        <h3><i class="fas fa-id-card"></i> Bus Pass Management</h3>
                        <button class="add-student-btn" id="add-student-btn">
                            <i class="fas fa-plus"></i> Add Student
                        </button>
                    </div>
                    
                    <!-- Bus Pass Search Bar -->
                    <div class="bus-pass-search-container">
                        <i class="fas fa-search bus-pass-search-icon"></i>
                        <input type="text" id="bus-pass-search" class="bus-pass-search-input" placeholder="Search by Roll No, Name, Branch, Section, Bus No...">
                        <button class="bus-pass-search-clear" id="bus-pass-search-clear" style="display: none;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="table table-striped table-hover" id="bus-pass-table">
                            <thead>
                                <tr>
                                    <th>Roll No</th>
                                    <th>Name</th>
                                    <th>Branch</th>
                                    <th>Section</th>
                                    <th>Bus Fee Status</th>
                                    <th>Bus No</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="bus-pass-tbody">
                                <!-- Sample data will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Track Bus Modal -->
    <div id="track-modal" class="track-modal">
        <div class="track-modal-content">
            <div class="track-modal-header">
                <h3 id="track-modal-title">Bus Route</h3>
                <button class="track-modal-close" id="track-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="track-modal-body">
                <div id="track-map" class="track-map"></div>
            </div>
        </div>
    </div>

    <!-- Live Location Modal -->
    <div id="live-location-modal" class="live-location-modal">
        <div class="live-location-modal-content">
            <div class="live-location-modal-header">
                <h3><i class="fas fa-map-marker-alt"></i> Share Live Location</h3>
                <button class="live-location-modal-close" id="live-location-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="live-location-modal-body">
                <div class="live-location-form">
                    <div class="form-group">
                        <label for="bus-number-select">
                            <i class="fas fa-bus"></i> Select Your Bus
                        </label>
                        <select id="bus-number-select" class="form-select">
                            <option value="">Choose bus number...</option>
                            <option value="1">Bus 1 - Rajahmundry</option>
                            <option value="3">Bus 3 - Kakinada</option>
                            <option value="4">Bus 4 - Pithapuram</option>
                            <option value="8">Bus 8 - Peddapuram</option>
                            <option value="90">Bus 90 - Samalkot</option>
                            <option value="12">Bus 12 - Amalapuram</option>
                            <option value="15">Bus 15 - Mandapeta</option>
                            <option value="22">Bus 22 - Tuni</option>
                            <option value="25">Bus 25 - Yanam</option>
                            <option value="30">Bus 30 - Ramachandrapuram</option>
                            <option value="35">Bus 35 - Kotananduru</option>
                            <option value="40">Bus 40 - Uppada</option>
                        </select>
                    </div>
                    
                    <div class="location-status" id="location-status">
                        <i class="fas fa-info-circle"></i>
                        <span>Select a bus to start sharing your location</span>
                    </div>
                    
                    <div class="location-info" id="location-info" style="display: none;">
                        <div class="location-info-item">
                            <i class="fas fa-map-pin"></i>
                            <div>
                                <strong>Current Location</strong>
                                <span id="current-coords">Waiting for GPS...</span>
                            </div>
                        </div>
                        <div class="location-info-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <strong>Last Updated</strong>
                                <span id="last-updated">Never</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="live-location-actions">
                        <button class="btn-start-tracking" id="btn-start-tracking">
                            <i class="fas fa-play"></i> Start Live Tracking
                        </button>
                        <button class="btn-stop-tracking" id="btn-stop-tracking" style="display: none;">
                            <i class="fas fa-stop"></i> Stop Tracking
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="edit-profile-modal">
        <div class="edit-profile-modal-content">
            <div class="edit-profile-modal-header">
                <h3><i class="fas fa-user-edit"></i> Edit Profile</h3>
                <button class="edit-profile-modal-close" id="edit-profile-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="edit-profile-modal-body">
                <div class="profile-form">
                    <div class="form-group">
                        <label for="profile-name-input">
                            <i class="fas fa-signature"></i> Display Name
                        </label>
                        <input type="text" id="profile-name-input" class="form-input" placeholder="Enter your name" maxlength="50">
                        <small class="form-hint">This name will be displayed across the dashboard</small>
                    </div>

                    <div class="profile-actions">
                        <button class="btn-cancel-profile" id="btn-cancel-profile">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                        <button class="btn-save-profile" id="btn-save-profile">
                            <i class="fas fa-check"></i> Save Changes
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Bus Modal -->
    <div class="modal" id="add-bus-modal">
        <div class="modal-content add-bus-modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-bus"></i> Add New Bus</h2>
                <button class="modal-close" id="add-bus-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="add-bus-form" class="add-bus-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="bus-number">Bus Number <span class="required">*</span></label>
                        <input type="text" id="bus-number" name="busNumber" required placeholder="e.g., 1, 3, 90">
                    </div>
                    <div class="form-group">
                        <label for="bus-status">Status <span class="required">*</span></label>
                        <select id="bus-status" name="status" required>
                            <option value="">Select Status</option>
                            <option value="on-time">On-time</option>
                            <option value="delayed">Delayed</option>
                            <option value="early">Early</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="bus-route">Route <span class="required">*</span></label>
                    <input type="text" id="bus-route" name="route" required placeholder="e.g., Rajahmundry → Surampalem">
                </div>
                <div class="form-group">
                    <label for="bus-driver">Driver Name <span class="required">*</span></label>
                    <input type="text" id="bus-driver" name="driver" required placeholder="e.g., Ramesh Babu">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="bus-eta">ETA (minutes) <span class="required">*</span></label>
                        <input type="number" id="bus-eta" name="eta" required min="1" placeholder="e.g., 5">
                    </div>
                    <div class="form-group">
                        <label for="bus-students">Students Count <span class="required">*</span></label>
                        <input type="text" id="bus-students" name="students" required placeholder="e.g., 55/60">
                    </div>
                </div>
                <div class="form-group">
                    <label for="bus-progress">Progress (%) <span class="required">*</span></label>
                    <input type="number" id="bus-progress" name="progress" required min="0" max="100" placeholder="e.g., 92">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-cancel" id="add-bus-cancel">Cancel</button>
                    <button type="submit" class="btn-save">
                        <i class="fas fa-save"></i> Save Bus
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>